{% sw_extends '@Storefront/storefront/page/search/index.html.twig' %}

{% block base_content %}
	{% if config('clerkio64.config.searchPageEnabled') == 'true' %}
		<link href="{{ asset('bundles/clerkio/css/search-page.css') }}" rel="stylesheet">
		<div class="clerk-search-page-container">
			<span
					id="clerk-search"
					class="clerk"
					data-template="@{{ config('clerkio64.config.searchPageContent') ? config('clerkio64.config.searchPageContent')  : 'search-page' }}"
					data-limit="40"
					data-offset="0"
					data-target="#clerk-search-results"
					data-query="{{ page.searchTerm }}"
			{% if config('clerkio64.config.searchCategoriesEnabled') == 'true' %}
					data-search-categories="{{config('clerkio64.config.searchNumberOfCategories')}}"
					data-search-pages="{{config('clerkio64.config.searchNumberOfPages')}}"
					data-serch-pages-types="{{config('clerkio64.config.searchPageTypes')}}"
			{% endif %}		
			{% if config('clerkio64.config.facetedSearchEnabled') == 'true' %}
					data-facets-target="#clerk-search-filters"
					data-facets-attributes='["price","categories","brand"]'
					data-facets-design="{{config('clerkio64.config.facetedSearchDesign')}}"
			{% endif %}
			></span>
			{% if config('clerkio64.config.facetedSearchEnabled') == 'true' %}
				<div id="clerk-search-filters"></div>
			{% endif %}
			<ul id="clerk-search-results"></ul>
		</div>
	{% else %}
		{{ parent() }}
	{% endif %}
{% endblock %}
